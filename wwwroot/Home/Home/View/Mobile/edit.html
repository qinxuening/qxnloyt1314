<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>{$Think.lang.Edit_equipment}</title>
<link rel="stylesheet" href="__PUBLIC__/resource/common/css/base.css" >
<link rel="stylesheet" href="__PUBLIC__/resource/common/css/user.css">
<link rel="stylesheet" href="__PUBLIC__/resource/common/js/validform/style.css" >
<link rel="shortcut icon" href="__PUBLIC__/resource/common/images/favicon.ico" type="image/x-icon" />
<script src="__PUBLIC__/resource/common/js/jquery.js"></script>
<script src="__PUBLIC__/resource/js/My97Date/WdatePicker.js"></script>
<script language="javascript">
$(document).ready(function(){
$("#IsAllOpens").click(function(){ 
     $("#IsAllCloses").attr('checked',false);
     $(this).attr('checked',true);
});
$("#IsAllCloses").click(function(){ 
     $("#IsAllOpens").attr('checked',false);
     $(this).attr('checked',true);
});
});
function aa(){
    var r=document.getElementById("IsMsgs");
         if(r.checked){
        // r.value=1;
		document.getElementById("IsMsg").value=1;
		 //alert(r.value);
       }else{
	  document.getElementById("IsMsg").value=0;
	  // alert(r.value);
	   }
   var m=document.getElementById("IsAllOpens");
         if(m.checked){
        // r.value=1;
		document.getElementById("IsAllOpen").value=1;
		document.getElementById("IsAllClose").value=0;
		 //alert(m.value);
       }else{
	  document.getElementById("IsAllOpen").value=0;
	  document.getElementById("IsAllClose").value=1;
	  // alert(r.value);
	   }
	var k=document.getElementById("IsAllCloses");
         if(k.checked){
        // r.value=1;
		document.getElementById("IsAllClose").value=1;
		document.getElementById("IsAllOpen").value=0;
		 //alert(r.value);
       }else{
	  document.getElementById("IsAllClose").value=0;
	  document.getElementById("IsAllOpen").value=1;
	  // alert(r.value);
	   }
}
</script>
<style>
	.s_1 {
	    float: right;
	    text-align: right;
	    /* color: #6eb805; */
	    padding-right: 50px;
	}
</style>
</head>

<body>
<!--header-->
<include file="Public:header" />
<!--end header--> 

<!--main-->
<div id="wp" class="wp"><link href="__PUBLIC__/user/css/style.css" rel="stylesheet" type="text/css" />
 <div class="contentmanage">
    <div class="developer">
       <div class="appTitle normalTitle" style="padding: 20px;">
        <h2>{$Think.lang.Center}</h2>
        <div class="accountInfo">
        
        </div>
        <div class="clr"></div>
      </div>
      <div class="tableContent">
        <!--左侧功能菜单-->
        <div class="sideBar">
          <div class="catalogList">
            <ul>
				<li class="subCatalogList" > <a href="__APP__/User/">{$Think.lang.Member}</a></li>
				<li class=" subCatalogList "> <a href="__APP__/User/add/">{$Think.lang.Add_member}</a> </li>
				<li class=" selected "> <a href="__APP__/Mobile/">{$Think.lang.Equipment}</a> </li>
				
				<li class=" subCatalogList "> <a href="__APP__/Type/">{$Think.lang.Model}</a> </li>
				<li class=" subCatalogList "> <a href="__APP__/Type/add/">{$Think.lang.Add_model}</a> </li>
				<li class=" subCatalogList "> <a href="__APP__/Time/">{$Think.lang.Time}</a> </li>
				<li class=" subCatalogList "> <a href="__APP__/Time/add/">{$Think.lang.Add_time}</a> </li>
				<li class=" subCatalogList "> <a href="__APP__/User/useredit/">{$Think.lang.Information}</a> </li>
				<li class=" subCatalogList "> <a href="__APP__/User/pwd/">{$Think.lang.Change_password}</a> </li>
				<li class=" subCatalogList "> <a href="__APP__/Mobile/usermobile/">{$Think.lang.UserMobile}</a> </li>
				<li class=" subCatalogList "> <a href="__APP__/User/out/">{$Think.lang.Exit}</a> </li>
            </ul>
          </div>
        </div>

<div class="content">
          <div class="cLineB"><h4>{$Think.lang.Edit_equipment}</h4></div>
          <form method="post" action="__APP__/Mobile/update/id/{$mobile.Pid}" enctype="multipart/form-data" class="Machineryfrom">
          <div class="msgWrap">
            <table class="userinfoArea" border="0" cellspacing="0" cellpadding="0" width="100%">
              <thead>
                <tr>
                  <th><span class="red">*</span><label class="m_label c_label">{$Think.lang.Equipment_position}：</label></th>
                  <td class="touch1"><input type="text" class="px" datatype="*1-30" nullmsg="{$Think.lang.Equipment_position_n}" sucmsg="{$Think.lang.Crepass}" name="McName" value="{$mobile.McName}" tabindex="1" size="25" maxlength="30"></td>
					 <notempty name="McID1">
						<td class="touch">
							[
								<input class="rt2" type="checkbox" id="touch1" name="touch11[]" <foreach name="touch" item="vo" ><eq name="vo" value="1">checked</eq></foreach> value="1" datatype="*" nullmsg="请选择要联动的灯"><label for="touch1">灯1 &nbsp;</label>
								<input class="rt2" type="checkbox" id="touch2" name="touch11[]" <foreach name="touch" item="vo" ><eq name="vo" value="2">checked</eq></foreach> value="2"><label for="touch2">灯2 &nbsp;</label>
								<input class="rt2" type="checkbox" id="touch3" name="touch11[]" <foreach name="touch" item="vo" ><eq name="vo" value="3">checked</eq></foreach> value="3"><label for="touch3">灯3 &nbsp;</label>
							]
						</td>
					</notempty> 
				</tr>
              </thead>
			  <tbody>
				 <tr style="border-top:1px solid #eeeeee;background-color:#fcfcfc; padding:10px 0px">
                  <th>{$Think.lang.SMS}：</th>
                  <td><input type="checkbox" name="IsMsgs" id="IsMsgs" value="" class="px" <eq name="mobile['IsMsg']" value="1">checked</eq>>&nbsp;{$Think.lang.Sms_notification}
				  <input type="hidden" name="IsMsg" id="IsMsg">  <div class="s_1" style="color:#6eb805">{$Think.lang.Main_opening}</div></td>
                 </tr>
				
				
				  <tr style="border-top:1px solid #eeeeee;background-color:#fcfcfc; padding:10px 0px">
                  <th>{$Think.lang.Linkage_opening}：</th>
                  <td>
                  	<volist name="myMobile" id="vo" >
						<eq name="vo.McID1" value="14">
						<span class="bbox1"><label>&nbsp;&nbsp;{$vo.McName}&nbsp;&nbsp;</label>
						<else/>
						<span class="bbox1"><label><input  type="checkbox" name="LinkOn[]"  id="LinkOn[]" <foreach name="mLinkOn" item="vt"><eq name="vt" value="$vo.Pid">checked</eq></foreach> value="{$vo.Pid}" class="px">&nbsp;&nbsp;{$vo.McName}&nbsp;&nbsp;
						</eq>
						 <eq name="vo.McID1" value="14">
						 	<foreach name="mLinkOn_TouchID_merge" item="item" key="k">
						 	   <eq name="k" value="$vo.Pid">
									  	<div class="stouch">
												[
													<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOn_{$vo.Pid}[]" <foreach name="item" item="vo1" ><eq name="vo1" value="1">checked</eq></foreach> value="1">灯1 &nbsp;</label>
													<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOn_{$vo.Pid}[]" <foreach name="item" item="vo1" ><eq name="vo1" value="2">checked</eq></foreach> value="2">灯2 &nbsp;</label>
													<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOn_{$vo.Pid}[]" <foreach name="item" item="vo1" ><eq name="vo1" value="3">checked</eq></foreach> value="3">灯3 &nbsp;</label>
												]
										</div>
								</eq>
							</foreach>
							<!--<div class="stouch">
									[
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOn_{$vo.Pid}[]"  value="1">灯1 &nbsp;</label>
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOn_{$vo.Pid}[]"  value="2">灯2 &nbsp;</label>
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOn_{$vo.Pid}[]"  value="3">灯3 &nbsp;</label>
									]
							</div>-->
						  </eq>
						  </label>
						</span>
				  </volist>
				  </td>
                </tr>
				<tr><th></th><td><div class="s_1" style="color:#6eb805">{$Think.lang.Master_Guan}</div></td></tr>
				<tr style="border-top:1px solid #eeeeee;background-color:#fcfcfc; padding:10px 0px">
                  <th>{$Think.lang.Linkage}：</th>
                  <td><volist name="myMobile" id="vo" >
                  	<eq name="vo.McID1" value="14">
                  		<span class="bbox1"><label>&nbsp;&nbsp;{$vo.McName}&nbsp;&nbsp;</label>
					<else/>
                  	<span class="bbox1"><label><input type="checkbox" name="LinkOff[]" id="LinkOff[]" <foreach name="mLinkOff" item="vt"><eq name="vt" value="$vo.Pid">checked</eq></foreach> value="{$vo.Pid}" class="px">&nbsp;&nbsp;{$vo.McName}&nbsp;&nbsp;</label>
					</eq>
						 <eq name="vo.McID1" value="14">
						 	<foreach name="findLinkOff_TouchID_merge" item="vt" key="k">
						 	   <eq name="k" value="$vo.Pid">
							  	<div class="stouch">
										[
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOff_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="1">checked</eq></foreach> value="1">灯1 &nbsp;</label>
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOff_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="2">checked</eq></foreach> value="2">灯2 &nbsp;</label>
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOff_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="3">checked</eq></foreach> value="3">灯3 &nbsp;</label>
										]
								</div>
								</eq>
							</foreach>
							<!--
						  	<div class="stouch">
									[
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOff_{$vo.Pid}[]" value="1">灯1 &nbsp;</label>
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOff_{$vo.Pid}[]" value="2">灯2 &nbsp;</label>
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOff_{$vo.Pid}[]" value="3">灯3 &nbsp;</label>
									]
							</div>
							-->
						  </eq>
					</span></volist></td>
                </tr>
				<tr><th></th><td><div class="s_1" style="color:#6eb805">{$Think.lang.Main_opening2}</div></td></tr>
				<tr style="border-top:1px solid #eeeeee;background-color:#fcfcfc; padding:10px 0px">
                  <th>{$Think.lang.Anti_linkage}：</th>
                  <td><volist name="myMobile" id="vo" >
                  	<eq name="vo.McID1" value="14">
                  		<span class="bbox1"><label>&nbsp;&nbsp;{$vo.McName}&nbsp;&nbsp;</label>
					<else/>
                  	 <span class="bbox1"><label><input type="checkbox" name="LinkOn_Off[]" id="LinkOn_Off[]" <foreach name="mLinkOn_Off" item="vt"><eq name="vt" value="$vo.Pid">checked</eq></foreach> value="{$vo.Pid}" class="px">&nbsp;&nbsp;{$vo.McName}&nbsp;&nbsp;</label>
					 </eq>
					 	 <eq name="vo.McID1" value="14">
					 	 	<foreach name="findLinkOn_Off_TouchID_merge" item="vt" key="k">
						 	   <eq name="k" value="$vo.Pid">
							  	<div class="stouch">
										[
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOnOff_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="1">checked</eq></foreach> value="1">灯1 &nbsp;</label>
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOnOff_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="2">checked</eq></foreach> value="2">灯2 &nbsp;</label>
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOnOff_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="3">checked</eq></foreach> value="3">灯3 &nbsp;</label>
										]
								</div>
								</eq>
							</foreach>
							<!--
						  	<div class="stouch">
									[
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOnOff_{$vo.Pid}[]" value="1">灯1 &nbsp;</label>
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOnOff_{$vo.Pid}[]" value="2">灯2 &nbsp;</label>
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOnOff_{$vo.Pid}[]" value="3">灯3 &nbsp;</label>
									]
							</div>
							-->
						  </eq>
					 </span></volist></td>
                </tr>
                <tr>
                <tr><th></th><td><div class="s_1" style="color:#6eb805">{$Think.lang.Main_opening3}</div></td></tr>
				<tr style="border-top:1px solid #eeeeee;background-color:#fcfcfc; padding:10px 0px">
                  <th>{$Think.lang.Anti_linkage2}：</th>
                  <td><volist name="myMobile" id="vo" >
                  	<eq name="vo.McID1" value="14">
                  		<span class="bbox1"><label>&nbsp;&nbsp;{$vo.McName}&nbsp;&nbsp;</label>
					<else/>
                  	 <span class="bbox1"><label><input type="checkbox" name="LinkOff_On[]" id="LinkOff_On[]" <foreach name="mLinkOff_On" item="vt"><eq name="vt" value="$vo.Pid">checked</eq></foreach> value="{$vo.Pid}" class="px">&nbsp;&nbsp;{$vo.McName}&nbsp;&nbsp;</label>
					 </eq>
					 	<eq name="vo.McID1" value="14">
					 		<foreach name="findLinkOff_On_TouchID_merge" item="vt" key="k">
						 	   <eq name="k" value="$vo.Pid">
							  	<div class="stouch">
										[
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOffOn_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="1">checked</eq></foreach> value="1">灯1 &nbsp;</label>
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOffOn_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="2">checked</eq></foreach> value="2">灯2 &nbsp;</label>
											<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOffOn_{$vo.Pid}[]" <foreach name="vt" item="vo1" ><eq name="vo1" value="3">checked</eq></foreach> value="3">灯3 &nbsp;</label>
										]
								</div>
								</eq>
							</foreach>
							<!--
						  	<div class="stouch">
									[
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOffOn_{$vo.Pid}[]" value="1">灯1 &nbsp;</label>
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOffOn_{$vo.Pid}[]" value="2">灯2 &nbsp;</label>
										<label><input class="ids" type="checkbox" id="{$vo.Pid}[]" name="LinkOffOn_{$vo.Pid}[]" value="3">灯3 &nbsp;</label>
									]
							</div>
							-->
						  </eq>
					 </span></volist></td>
                </tr>
                <tr>
                  <th></th>
                  <td><button type="submit" class="btnGreen" id="saveSetting" onClick="aa()">{$Think.lang.Save}</button></td>
                </tr>
              </tbody>
            </table>
            
          </div>
		   <input type="hidden" name="wMB" value="{$User.wMB}">
          </form>
        </div>
        
        <div class="clr"></div>
      </div>
    </div>
  </div>
  <!--底部-->
  	</div>
<!--end main--> 
<!--footer-->
<script src="__PUBLIC__/resource/common/js/Validform.js"></script>
<script type="text/javascript">

	$(function(){
	var demo=$(".Machineryfrom").Validform({
			tiptype:3,
			label:".m_label",
			showAllError:false,
			datatype:{
				"zh1-6":/^[\u4E00-\u9FA5\uf900-\ufa2d]{1,6}$/,
				"ip":/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/
			},
			ajaxPost:false
		});
	})
</script>
<include file="Public:footer" />
<!--end footer--> 
</body>
</html>
